# üìå Challenge Info

- **CTF Name: Try Hack Me**
- **Challenge Name:** Basic Pentesting
- **Category: Web Application**
- **Points: Not Listed**
- **Difficulty: Easy**

# üß† Challenge Description

In this challenge, we are tasked with gaining unauthorized access to a machine by exploiting weak service configurations, brute-forcing credentials, and escalating privileges to retrieve the final flag. The box simulates a real-world environment where enumeration and proper tool usage are key to success.

# üóÉÔ∏è Files Provided

None

# üåê Challenge Setup

## **Tools Used:**

- Nmap ‚Äî (for scanning open ports and services)
- Gobuster ‚Äî (for discovering hidden directories on the webserver)
- Hydra ‚Äî (for brute-forcing passwords)
- Enum4linux ‚Äî (for SMB enumeration)
- John the Ripper ‚Äî (for cracking password-protected SSH keys)

## **Environment:**

- TryHackMe virtual machine (VPN connection)

# üîç Initial Recon

I first deployed the machine and waited for it to load. I then used the ip address it had given me for this session to scan the machine to find any services running on it and what ports are open. I found there was these services SSH, HTTP apache server, netbios, and other apache related services.

# üõ†Ô∏è Exploitation / Solution

## 1. Looking at the webpage on the machine

- I put the ip address into a new firefox tab to see what was on the website.
- I was greeted with a webpage with a ‚Äúundergoing maintence‚Äù message.
- I then decided to use gobuster to look for any new directorys on the webserver.
- It then came back straight away with a path to a page called devlopement
- I then found an index page.
- I then opened up dev.txt to find some logs, i screenshot these for later.
- After looking in j.txt i found a message, it was hinting at credentials being in another path called: ‚Äú/etc/shadow‚Äù
- I then researched what smb is to figure out what it does. I then found out how to use smb map after asking questions about it on chatgpt.
- It gave me a command: ‚Äúenum4linux -a <target-ip>‚Äù this then gave me the two users names.

## 2. Brute Forcing the passwords

- I quickly went through my notes to find some brute force app
- I then used hydra on Jan‚Äôs user to get the password to it for logging in
- I then logged into jans user.
- It would only go into one folder so, i decided to research how to privilage checklists for escalation.
- I found out about LinEnum from a hint.
- I then cloned the repository and tryed to use ftp to transfer with no luck
- Run after transfer with scp after research into file transfering linenum and found kay run sudo privages. attempting to crack her password.
- I didnt find anthing with the script

## 3. Gaining sudo

- I watched john hammonds walkthrough to where i was on how to get past this point. it turns out kay has a ssh key in her folder.
- I extracted the private key and saved it on my machine to sign into ssh as kay-private-key.
- I then decided to use john the ripper to crack it using john2key to turn it into a hash
- I then cracked the hash to find ‚Äúbeeswax‚Äù so i then signed into ssh with that.

## 4. Signing on as kay

- I signed on using the private key and password i found.
- I listed sources including sources and found pass.bak
- I opened it and got the final flag

# üè¥ Flag


> heresareallystrongpasswordthatfollowsthepasswordpolicy$$
>

# üß™ Tools Used

- **Nmap** ‚Äî Port and service scanning
- **Gobuster** ‚Äî Directory brute-forcing
- **Hydra** ‚Äî Brute-forcing SMB credentials
- **Enum4linux** ‚Äî SMB enumeration
- **LinEnum** ‚Äî Local privilege enumeration
- **John the Ripper** ‚Äî Cracking password-protected SSH key
- **scp** ‚Äî Secure file transfer

# üìù Notes / Lessons Learned

- Always perform thorough enumeration on all available services.
- Directory brute-forcing can reveal hidden, critical files.
- SMB enumeration can provide valuable user information for further exploitation.
- Password-protected SSH keys can be cracked if weak passwords are used.
- Privilege escalation often involves exploiting misconfigured files, sudo privileges, or credential leaks.
- Having a strong workflow with tools like LinEnum saves a lot of manual checking time.
- Find a alternative to LinEnum

# üì∑ Screenshots (Optional)

![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_1.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_2.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_3.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_4.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_5.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_6.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_7.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_8.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_9.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_10.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_11.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_12.png)
![Screenshot of the challenge soloution](https://github.com/KieranPritchard/CTF-Write-Ups/blob/main/TryHackMe/Basic-Pentesting/Basic_Pentesting_Screenshot_13.png)
